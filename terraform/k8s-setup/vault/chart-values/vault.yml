vault:
  dev: false
  config:
    storage:
      consul:
        address: "localhost:8500"
        path: vault
    seal:
      awskms:
        region: "us-east-1"
        kms_key_id: 0
        access_key: ""
        secret_key: ""
  extraEnv:
    - name: VAULT_UI
      value: "true"
  extraContainers:
    - name: statsd-exporter
      image: prom/statsd-exporter:latest

image:
      tag: "1.0.3"

affinity: 
  nodeAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      nodeSelectorTerms:
      - matchExpressions:
        - key: class
          operator: NotIn
          values:
          - vault
  podAntiAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
    - weight: 100
      podAffinityTerm:
        topologyKey: kubernetes.io/hostname
        labelSelector:
          matchLabels:
            app: vault
service:
  type: LoadBalancer
  port: 8200
  externalPort: 80
  annotations:
    service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
    service.beta.kubernetes.io/aws-load-balancer-connection-idle-timeout: "3600"
    service.beta.kubernetes.io/aws-load-balancer-internal: 0.0.0.0
#    service.beta.kubernetes.io/aws-load-balancer-ssl-cert: arn:aws:acm:us-west-2:123456:certificate/123456-1234-1234-123456
#    service.beta.kubernetes.io/aws-load-balancer-ssl-ports: "*"

consulAgent:
  # cluster specific variables
  join: consul
  gossipKeySecretName: consul-gossip-key

